{"version":3,"sources":["components/Person.js","components/Persons.js","components/AddForm.js","components/FilterForm.js","services/persons.js","App.js","index.js"],"names":["Person","person","deleteContact","key","id","name","number","onClick","Persons","persons","map","AddForm","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","FilterForm","newFilter","handleFilterChange","baseUrl","axios","get","then","response","data","newObject","post","delete","personObject","put","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","message","setMessage","errorMessage","setErrorMessage","useEffect","personService","list","updatePerson","returnedPerson","p","setTimeout","catch","error","console","log","filter","personsToShow","toLowerCase","includes","className","event","target","preventDefault","find","window","confirm","originalPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6473bc63.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({person, deleteContact}) => {\n\n    //console.log(person.id, person.name)\n    return (\n        <div key={person.id}>\n        {person.name} {person.number} \n        <button onClick={deleteContact}>delete</button>\n        </div>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({persons, deleteContact}) => {\n\n    const names = () => persons.map(person =>\n        <li key={person.id}>\n        <Person person={person}\n        deleteContact={() => deleteContact(person)}/>\n        </li>\n    )\n\n    return (\n        <div>\n            <h2>Numbers</h2>\n            <ul>\n                {names()}\n            </ul>\n        </div>\n    )\n}\n\nexport default Persons\n\n","import React from 'react'\n\n\nconst AddForm = (props) => {\n\n    return (\n        <div>\n        <h2>Add new</h2>\n        <form onSubmit={props.addPerson}>\n            <div>\n                name: <input value={props.newName}\n                onChange={props.handleNameChange} />\n            </div>\n            <div>\n                number: <input value={props.newNumber}\n                onChange={props.handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n        </div>\n    )\n}\n\n\nexport default AddForm","import React from 'react'\n\nconst FilterForm = (props) => {\n    return (\n        <div>\n            filter: <input value={props.newFilter}\n                onChange={props.handleFilterChange} />\n      </div>\n    )\n}\n\n\nexport default FilterForm","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst removePerson = person => {\n    const request = axios.delete(baseUrl+'/'+person.id)\n    return request\n}\n\nconst updatePerson = (id, personObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, personObject)\n    return request.then(response => response.data)\n}\n\n\nexport default { getAll, create, removePerson, updatePerson }","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport AddForm from './components/AddForm'\nimport FilterForm from './components/FilterForm'\nimport personService from './services/persons'\nimport './index.css'\n\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(list => setPersons(list))\n\n  }, [])\n\n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className=\"notification\">\n        {message}\n      </div>\n    )\n  }\n\n  const Error = ( {errorMessage}) => {\n    if (errorMessage === null) {\n      return null\n    }\n\n    return (\n      <div className=\"error\">\n        {errorMessage}\n      </div>\n    )\n  }\n  \n  \n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    const result = persons.find( ({name}) => name === newName)\n    \n    if (result) {\n       if (window.confirm(`${newName} is alredy added to phonebook, replace the old number with a new one?`)) {\n        const originalPerson = persons.find(p => p.name === personObject.name)\n        updatePerson(originalPerson.id, personObject)\n       }\n    } else {                  \n      personService\n      .create(personObject)\n      .then(data => {\n        setPersons(persons.concat(data))\n        console.log(data)\n        setMessage(`${personObject.name} added`)  \n        setTimeout(() => {\n        setMessage(null)\n        }, 3000)\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch( error => \n        setErrorMessage(`${error} read error message`)\n      )\n    }\n  }\n\n  const updatePerson =  (id, personObject) => {\n     personService\n      .updatePerson(id, personObject)\n      .then(returnedPerson => {\n      setPersons(persons.map(p => p.id !== id ? p : returnedPerson))\n      setMessage(`${personObject.name} updated`)\n      setTimeout(() => {\n         setMessage(null)\n       }, 3000)\n       setNewName('')\n       setNewNumber('')\n     }).catch(error => {\n      setErrorMessage(`${personObject.name} could not be updated, because ${personObject.name} is already removed`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 3000)\n      setNewName('')\n      setNewNumber('')\n      console.log(id)\n      setPersons(persons.filter(p => p.id !== id))\n    })\n  }\n\n  const deleteContact = person => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .removePerson(person)\n        .then(() => {\n          setMessage(`${person.name} removed`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)          \n        })\n        .catch(error => {\n          setErrorMessage(`${person.name} is already removed`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n        }).then(() => {\n          setPersons(persons.filter(p => p.id !== person.id))\n        })  \n    }\n  }\n\n\n  const personsToShow = newFilter === ''\n  ? persons\n  : persons.filter(person => person.name.toLowerCase()\n    .includes(newFilter.toLowerCase()))\n  \n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n\n  \n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} />\n      <Error errorMessage={errorMessage} />\n      <FilterForm newFilter={newFilter}\n      setNewFilter={setNewFilter}\n      handleFilterChange={handleFilterChange}/>\n      <AddForm persons={persons}\n      handleNameChange={handleNameChange}\n      handleNumberChange={handleNumberChange}\n      newName={newName}\n      newNumber={newNumber}\n      setNewName={setNewName}\n      setNewNumber={setNewNumber}\n      setPersons={setPersons}\n      addPerson={addPerson}\n      />\n      <Persons persons={personsToShow}\n      deleteContact={deleteContact}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}